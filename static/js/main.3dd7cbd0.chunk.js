(this["webpackJsonpfilms-db"]=this["webpackJsonpfilms-db"]||[]).push([[0],{11:function(e,t,c){e.exports={card:"FilmCard_card__1eIEf",imgLink:"FilmCard_imgLink__UMoTv",image:"FilmCard_image__2qInY",info:"FilmCard_info__2nRIK",title:"FilmCard_title__2vEwv",date:"FilmCard_date__36gES",rateCircle:"FilmCard_rateCircle__2ttDv"}},13:function(e,t,c){e.exports={topBar:"TopNavBar_topBar__hiAW4",nav:"TopNavBar_nav__3g136",logoLink:"TopNavBar_logoLink__2OvxA",logo:"TopNavBar_logo__TN7cQ",links:"TopNavBar_links__2dptU"}},14:function(e,t,c){e.exports={title:"FilmsPage_title__3bwy2",content:"FilmsPage_content__3Rmly",sideBar:"FilmsPage_sideBar__3pLch",btnMore:"FilmsPage_btnMore__3Sfde"}},20:function(e,t,c){e.exports={links:"LinksBlock_links__29MAj",link:"LinksBlock_link__1v_2g"}},21:function(e,t,c){e.exports={outerBorder:"RateCircle_outerBorder__lEkUX",rateCircle:"RateCircle_rateCircle__2fMDY",big:"RateCircle_big__3gHoA",small:"RateCircle_small__uQqNW"}},26:function(e,t,c){e.exports={feed:"FilmsFeed_feed__2-ClR",card:"FilmsFeed_card__2-Pax"}},27:function(e,t,c){e.exports={nav:"FilmPageDeatils_nav__2nyE4"}},39:function(e,t,c){e.exports={label:"NavItem_label__qoBZB"}},4:function(e,t,c){e.exports={section:"FilmDetailsSection_section__nd3E6",gradient:"FilmDetailsSection_gradient__-w4LB",inner:"FilmDetailsSection_inner__32ZCb",content:"FilmDetailsSection_content__54GfM",poster:"FilmDetailsSection_poster__2tGiR",title:"FilmDetailsSection_title__9Ujwy",year:"FilmDetailsSection_year__uYswv",info:"FilmDetailsSection_info__2uho8",dot:"FilmDetailsSection_dot__3bSjq",score:"FilmDetailsSection_score__2Besv",description:"FilmDetailsSection_description__2jteD",overview:"FilmDetailsSection_overview__2Q9Rz",overviewText:"FilmDetailsSection_overviewText__1yQ-J"}},41:function(e,t,c){e.exports={error:"ErrorMessage_error__2fFLb"}},52:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c(0),n=c.n(r),s=c(37),i=c.n(s),o=(c(52),c(10)),l=c(2),j=c(13),d=c.n(j),b=c(8),h=c(20),u=c.n(h),m=function(e){var t=e.links;return Object(a.jsx)("div",{className:u.a.links,children:Object(a.jsx)("ul",{children:t.map((function(e){var t=Object.keys(e)[0],c=Object.values(e)[0];return Object(a.jsx)("li",{className:u.a.li,children:Object(a.jsx)(o.b,{to:c,className:u.a.link,children:t})},t)}))})})},x=c(39),_=c.n(x),O=function(e){var t=e.label,c=e.links,n=Object(r.useState)(!1),s=Object(b.a)(n,2),i=s[0],o=s[1];return Object(a.jsxs)("span",{className:_.a.label,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},children:[t,i&&Object(a.jsx)(m,{links:c})]})},p={Movies:[{Popular:"/movie/popular"},{"Now Playing":"/movie/now-playing"},{Upcoming:"/movie/upcoming"},{"Top Rated":"/movie/top-rated"}],"TV shows":[{Popular:"/tv/popular"},{"Airing Today":"/tv/airing-today"},{"On Tv":"/tv/on-the-air"},{"Top Rated":"/tv/top-rated"}],People:[{"Popular People":"/person/popular"}]},v=function(){return Object(a.jsx)("div",{className:d.a.topBar,children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("nav",{className:d.a.nav,children:[Object(a.jsx)(o.b,{to:"/",className:d.a.logoLink,children:Object(a.jsx)("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"",className:d.a.logo})}),Object(a.jsx)("ul",{className:d.a.links,children:Object.entries(p).map((function(e){return Object(a.jsx)("li",{className:d.a.link,children:Object(a.jsx)(O,{label:e[0],links:e[1]})},e[0])}))})]})})})},f=c(17),g=c(26),y=c.n(g),N=c(81),w=c(11),k=c.n(w),F=c(40),C=c.n(F),S=c(21),B=c.n(S),E=function(e){var t=e.score,c=e.size,r=Math.round(10*t),n=r>70?"green":r>25?"yellow":0===r?"gray":"red";return Object(a.jsx)("span",{className:C()(B.a.outerBorder,B.a[c]),children:Object(a.jsxs)("span",{className:B.a.rateCircle,style:{borderColor:n},children:[r,"%"]})})},D=function(e){var t,c=e.poster_path,r=e.release_date,n=e.id,s=e.vote_average,i=e.title,j=e.first_air_date,d=e.name,b=function(e,t){var c=e.lastIndexOf("/");return e.slice(0,c+1)+"details/"+t}(Object(l.f)().location.pathname,n);return Object(a.jsxs)("div",{className:k.a.card,children:[Object(a.jsx)(o.b,{to:b,className:k.a.imgLink,children:Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(c),alt:"",className:k.a.image})}),Object(a.jsxs)("div",{className:k.a.info,children:[Object(a.jsx)(o.b,{to:b,className:k.a.title,children:i||d}),Object(a.jsx)("span",{className:k.a.date,children:(t=r||j,t?Object(N.a)(new Date(t),"PP"):"")}),Object(a.jsx)("span",{className:k.a.rateCircle,children:Object(a.jsx)(E,{size:"small",score:s})})]})]})},T=c(19),P=function(){return Object(a.jsxs)(T.a,{speed:2,width:206,height:390,viewBox:"0 0 206 390",backgroundColor:"#cfcfcf",foregroundColor:"#908e8e",children:[Object(a.jsx)("rect",{x:"-17",y:"191",rx:"0",ry:"0",width:"280",height:"20"}),Object(a.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"206",height:"306"}),Object(a.jsx)("rect",{x:"2",y:"413",rx:"0",ry:"0",width:"100",height:"28"}),Object(a.jsx)("rect",{x:"122",y:"403",rx:"26",ry:"26",width:"148",height:"51"}),Object(a.jsx)("rect",{x:"0",y:"332",rx:"0",ry:"0",width:"206",height:"20"}),Object(a.jsx)("rect",{x:"89",y:"371",rx:"0",ry:"0",width:"1",height:"0"}),Object(a.jsx)("rect",{x:"0",y:"370",rx:"0",ry:"0",width:"206",height:"16"}),Object(a.jsx)("circle",{cx:"33",cy:"306",r:"17"})]})},M=n.a.memo((function(e){var t=e.items;return Object(a.jsx)("div",{className:y.a.feed,children:t?t.map((function(e){return Object(r.createElement)(D,Object(f.a)(Object(f.a)({},e),{},{key:e.id}))})):new Array(20).fill(0).map((function(e,t){return Object(a.jsx)("div",{className:y.a.card,children:Object(a.jsx)(P,{})},t)}))})})),L=c(41),R=c.n(L),A=function(e){var t=e.error;return Object(a.jsxs)("div",{className:R.a.error,children:[Object(a.jsx)("img",{src:"https://raw.githubusercontent.com/kostya-caxnyk/ReStore/main/src/Components/ErrorIndicator/error.jpg",alt:"error"}),Object(a.jsx)("span",{children:"Something went wrong"}),t&&Object(a.jsx)("span",{children:t.status_message?t.status_message:t.errors?t.errors.map((function(e){return e})):""})]})},I=c(42),U=c(43),q=c(46),z=c(45),G=function(e){Object(q.a)(c,e);var t=Object(z.a)(c);function c(){var e;Object(I.a)(this,c);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(U.a)(c,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(a.jsx)(A,{}):this.props.children}}]),c}(r.Component),Q=function(){return Object(a.jsxs)(T.a,{speed:2,width:1e3,height:510,viewBox:"0 0 1000 510",backgroundColor:"#cfcfcf",foregroundColor:"#908e8e",children:[Object(a.jsx)("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"300",height:"450"}),Object(a.jsx)("rect",{x:"325",y:"72",rx:"0",ry:"0",width:"630",height:"27"}),Object(a.jsx)("rect",{x:"325",y:"117",rx:"0",ry:"0",width:"600",height:"17"}),Object(a.jsx)("circle",{cx:"352",cy:"201",r:"27"}),Object(a.jsx)("rect",{x:"384",y:"180",rx:"0",ry:"0",width:"72",height:"15"}),Object(a.jsx)("rect",{x:"384",y:"203",rx:"0",ry:"0",width:"73",height:"13"}),Object(a.jsx)("rect",{x:"324",y:"253",rx:"0",ry:"0",width:"550",height:"24"}),Object(a.jsx)("rect",{x:"329",y:"297",rx:"0",ry:"0",width:"123",height:"28"}),Object(a.jsx)("rect",{x:"325",y:"338",rx:"0",ry:"0",width:"700",height:"115"})]})},J=c(28),Y=c(14),H=c.n(Y),V=c(44),W=c.n(V),Z="https://api.themoviedb.org/3",K="?api_key=b79c674110200fabb617b62045c9c32b",X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=Object(r.useState)(null),a=Object(b.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(!1),o=Object(b.a)(i,2),l=o[0],j=o[1],d=Object(r.useState)(null),h=Object(b.a)(d,2),u=h[0],m=h[1],x=Object(r.useState)({}),_=Object(b.a)(x,2),O=_[0],p=_[1],v=Object(r.useCallback)((function(e){p(e||{}),j(!0)}),[]);return Object(r.useEffect)((function(){var c=!1;return l&&W()(Z+e+K+t,O).then((function(e){c||(s(e.data),j(!1))})).catch((function(e){c||(m(e.response.data),j(!1))})),function(){c=!0}}),[l,e,t,O]),[{response:n,isLoading:l,error:u},v]};function $(e){var t=e.split("/");return t.shift(),"Movie"===(t=t.map((function(e){return e.split("_").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")})))[0]?t.reverse().join(" ")+"s":"Tv"===t[0]?(t.shift(),t.join(" ")+" TV Shows"):"Films Page"}var ee=function(e){var t=e.match,c=t.url.replaceAll("-","_");void 0===t.params.slug&&(c+="/popular");var n=Object(r.useState)([{items:null}]),s=Object(b.a)(n,2),i=s[0],o=s[1],l=X(c,"&page=".concat(i.length)),j=Object(b.a)(l,2),d=j[0],h=d.response,u=d.error,m=j[1];Object(r.useEffect)((function(){return m(),function(){return o([{items:null}])}}),[c,m]),Object(r.useEffect)((function(){h&&o((function(e){return[].concat(Object(J.a)(e.slice(0,e.length-1)),[{items:h.results}])}))}),[h]),Object(r.useEffect)((function(){i.length>1&&m()}),[i.length,m]);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:H.a.title,children:$(c)}),Object(a.jsxs)("div",{className:H.a.content,children:[Object(a.jsx)("div",{className:H.a.sideBar,children:"side bar"}),Object(a.jsxs)("div",{className:H.a.pages,children:[u&&Object(a.jsx)(A,{error:u}),i.map((function(e,t){return Object(a.jsx)(M,{items:e.items},t)})),h&&i.length<h.total_pages&&Object(a.jsx)("button",{className:H.a.btnMore,onClick:function(){o((function(e){return[].concat(Object(J.a)(e),[{items:null}])}))},children:"Load More"})]})]})]})},te=c(27),ce=c.n(te),ae=c(4),re=c.n(ae),ne=function(e){if(!e)return"0m";var t=Math.floor(e/60),c=e%60;return t?"".concat(t,"h ").concat(c,"m"):"".concat(c,"m")},se=n.a.memo((function(e){var t=e.backdrop_path,c=e.genres,r=(e.id,e.title),n=e.tagline,s=e.vote_average,i=e.runtime,o=(e.status,e.revenue,e.release_date),l=e.poster_path,j=(e.budget,e.original_language,e.overview),d=e.name,b=e.first_air_date,h=e.episode_run_time,u=o?o.split("-")[0]:b.split("-")[0],m=ne(h?h[0]:i),x=c.map((function(e,t){var a=e.name;return t===c.length-1?a:a+", "}));return Object(a.jsx)("section",{style:{backgroundImage:" url(https://image.tmdb.org/t/p/w1920_and_h800_multi_faces/".concat(t,")")},className:re.a.section,children:Object(a.jsx)("div",{className:re.a.gradient,children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:re.a.inner,children:[Object(a.jsx)("img",{alt:"",src:"https://image.tmdb.org/t/p/w500/".concat(l),className:re.a.poster}),Object(a.jsxs)("div",{className:re.a.content,children:[Object(a.jsxs)("h1",{className:re.a.title,children:[r||d,Object(a.jsxs)("span",{className:re.a.year,children:[" (",u,")"]})]}),Object(a.jsxs)("div",{className:re.a.info,children:[o||b," ",!!c.length&&Object(a.jsx)("span",{className:re.a.dot,children:x}),Object(a.jsx)("span",{className:re.a.dot,children:m})]}),Object(a.jsxs)("div",{className:re.a.score,children:[Object(a.jsx)(E,{score:s,size:"big"}),"User Score"]}),Object(a.jsx)("div",{className:re.a.description,children:n}),j&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:re.a.overview,children:"Overview"}),Object(a.jsx)("p",{className:re.a.overviewText,children:j})]})]})]})})})})})),ie=function(e){var t=e.match,c=t.params.id,n="/".concat(t.url.split("/")[1],"/").concat(c),s=X(n),i=Object(b.a)(s,2),o=i[0],l=o.response,j=o.error,d=i[1];return Object(r.useEffect)((function(){d()}),[d]),Object(a.jsxs)("div",{className:ce.a.page,children:[Object(a.jsx)("div",{className:ce.a.nav,children:"links"}),j&&Object(a.jsx)(A,{error:j}),l?Object(a.jsx)(se,Object(f.a)({},l)):Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(Q,{})})]})},oe=function(){return Object(a.jsx)(G,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(v,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",render:function(){return Object(a.jsx)("h1",{children:"HOME PAGE"})},exact:!0}),Object(a.jsx)(l.a,{path:"/movie",component:ee,exact:!0}),Object(a.jsx)(l.a,{path:"/movie/:slug",component:ee,exact:!0}),Object(a.jsx)(l.a,{path:"/movie/details/:id",component:ie}),Object(a.jsx)(l.a,{path:"/tv",component:ee,exact:!0}),Object(a.jsx)(l.a,{path:"/tv/:slug",component:ee,exact:!0}),Object(a.jsx)(l.a,{path:"/tv/details/:id",component:ie}),Object(a.jsx)(l.a,{render:function(){return Object(a.jsx)("h1",{children:"PAGE NOT FOUND"})}})]})]})})};c(78);i.a.render(Object(a.jsx)(oe,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.3dd7cbd0.chunk.js.map