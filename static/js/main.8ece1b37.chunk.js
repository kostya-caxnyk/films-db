(this["webpackJsonpfilms-db"]=this["webpackJsonpfilms-db"]||[]).push([[0],{11:function(e,t,c){e.exports={card:"FilmCard_card__3vuOZ",imgLink:"FilmCard_imgLink__2YSDm",image:"FilmCard_image__1QbNQ",info:"FilmCard_info__2jkSQ",title:"FilmCard_title__7sT-W",date:"FilmCard_date__BLGrm",rateCircle:"FilmCard_rateCircle__2E3Ey"}},13:function(e,t,c){e.exports={topBar:"TopNavBar_topBar__6zBM5",nav:"TopNavBar_nav__1SAew",logoLink:"TopNavBar_logoLink__1pEgS",logo:"TopNavBar_logo__2kcuz",links:"TopNavBar_links__3bPOj"}},14:function(e,t,c){e.exports={title:"FilmsPage_title__10q-n",content:"FilmsPage_content__1LNm5",sideBar:"FilmsPage_sideBar__RIXpS",btnMore:"FilmsPage_btnMore__31O5M"}},20:function(e,t,c){e.exports={links:"LinksBlock_links__3V4_f",link:"LinksBlock_link__3__os"}},21:function(e,t,c){e.exports={outerBorder:"RateCircle_outerBorder__1-zrj",rateCircle:"RateCircle_rateCircle__2a1xs",big:"RateCircle_big__2qum-",small:"RateCircle_small__4Bk4Q"}},26:function(e,t,c){e.exports={feed:"FilmsFeed_feed__1wfYP",card:"FilmsFeed_card__31dav"}},27:function(e,t,c){e.exports={nav:"FilmPageDeatils_nav__1nIs-"}},39:function(e,t,c){e.exports={label:"NavItem_label__lTrAu"}},4:function(e,t,c){e.exports={section:"FilmDetailsSection_section__2mI0x",gradient:"FilmDetailsSection_gradient__11Z8u",inner:"FilmDetailsSection_inner__1PfrJ",content:"FilmDetailsSection_content__3iimX",poster:"FilmDetailsSection_poster__2drNV",title:"FilmDetailsSection_title__dJHTA",year:"FilmDetailsSection_year__1Nxj5",info:"FilmDetailsSection_info__2NSzk",dot:"FilmDetailsSection_dot__VP4CS",score:"FilmDetailsSection_score__195KG",description:"FilmDetailsSection_description__19g0Y",overview:"FilmDetailsSection_overview__3q5nO",overviewText:"FilmDetailsSection_overviewText__dxUqg"}},41:function(e,t,c){e.exports={error:"ErrorMessage_error__1LNMt"}},52:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c(0),n=c.n(r),s=c(37),i=c.n(s),o=(c(52),c(10)),l=c(2),j=c(13),d=c.n(j),b=c(5),h=c(20),u=c.n(h),m=function(e){var t=e.links;return Object(a.jsx)("div",{className:u.a.links,children:Object(a.jsx)("ul",{children:t.map((function(e){var t=Object.keys(e)[0],c=Object.values(e)[0];return Object(a.jsx)("li",{className:u.a.li,children:Object(a.jsx)(o.b,{to:c,className:u.a.link,children:t})},t)}))})})},x=c(39),_=c.n(x),O=function(e){var t=e.label,c=e.links,n=Object(r.useState)(!1),s=Object(b.a)(n,2),i=s[0],o=s[1];return Object(a.jsxs)("span",{className:_.a.label,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},children:[t,i&&Object(a.jsx)(m,{links:c})]})},p={Movies:[{Popular:"/movie/popular"},{"Now Playing":"/movie/now-playing"},{Upcoming:"/movie/upcoming"},{"Top Rated":"/movie/top-rated"}],"TV shows":[{Popular:"/tv/popular"},{"Airing Today":"/tv/airing-today"},{"On Tv":"/tv/on-the-air"},{"Top Rated":"/tv/top-rated"}],People:[{"Popular People":"/person/popular"}]},v=function(){return Object(a.jsx)("div",{className:d.a.topBar,children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("nav",{className:d.a.nav,children:[Object(a.jsx)(o.b,{to:"/",className:d.a.logoLink,children:Object(a.jsx)("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"",className:d.a.logo})}),Object(a.jsx)("ul",{className:d.a.links,children:Object.entries(p).map((function(e){return Object(a.jsx)("li",{className:d.a.link,children:Object(a.jsx)(O,{label:e[0],links:e[1]})},e[0])}))})]})})})},f=c(17),g=c(26),N=c.n(g),y=c(81),w=c(11),k=c.n(w),F=c(40),S=c.n(F),C=c(21),B=c.n(C),P=function(e){var t=e.score,c=e.size,r=Math.round(10*t),n=r>70?"green":r>25?"yellow":0===r?"gray":"red";return Object(a.jsx)("span",{className:S()(B.a.outerBorder,B.a[c]),children:Object(a.jsxs)("span",{className:B.a.rateCircle,style:{borderColor:n},children:[r,"%"]})})},E=function(e){if(3!==e.split("-").length)return"";var t=e.split("-"),c=Object(b.a)(t,3),a=c[0],r=c[1],n=c[2];return Object(y.a)(new Date(+a,+r-1,+n),"PP")},T=function(e){var t=e.poster_path,c=e.release_date,r=e.id,n=e.vote_average,s=e.title,i=e.first_air_date,j=e.name,d=function(e,t){var c=e.lastIndexOf("/");return e.slice(0,c+1)+"details/"+t}(Object(l.f)().location.pathname,r);return Object(a.jsxs)("div",{className:k.a.card,children:[Object(a.jsx)(o.b,{to:d,className:k.a.imgLink,children:Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t),alt:"",className:k.a.image})}),Object(a.jsxs)("div",{className:k.a.info,children:[Object(a.jsx)(o.b,{to:d,className:k.a.title,children:s||j}),Object(a.jsx)("span",{className:k.a.date,children:E(c||i)}),Object(a.jsx)("span",{className:k.a.rateCircle,children:Object(a.jsx)(P,{size:"small",score:n})})]})]})},D=c(19),M=function(){return Object(a.jsxs)(D.a,{speed:2,width:206,height:390,viewBox:"0 0 206 390",backgroundColor:"#cfcfcf",foregroundColor:"#908e8e",children:[Object(a.jsx)("rect",{x:"-17",y:"191",rx:"0",ry:"0",width:"280",height:"20"}),Object(a.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"206",height:"306"}),Object(a.jsx)("rect",{x:"2",y:"413",rx:"0",ry:"0",width:"100",height:"28"}),Object(a.jsx)("rect",{x:"122",y:"403",rx:"26",ry:"26",width:"148",height:"51"}),Object(a.jsx)("rect",{x:"0",y:"332",rx:"0",ry:"0",width:"206",height:"20"}),Object(a.jsx)("rect",{x:"89",y:"371",rx:"0",ry:"0",width:"1",height:"0"}),Object(a.jsx)("rect",{x:"0",y:"370",rx:"0",ry:"0",width:"206",height:"16"}),Object(a.jsx)("circle",{cx:"33",cy:"306",r:"17"})]})},L=n.a.memo((function(e){var t=e.items;return Object(a.jsx)("div",{className:N.a.feed,children:t?t.map((function(e){return Object(r.createElement)(T,Object(f.a)(Object(f.a)({},e),{},{key:e.id}))})):new Array(20).fill(0).map((function(e,t){return Object(a.jsx)("div",{className:N.a.card,children:Object(a.jsx)(M,{})},t)}))})})),A=c(41),I=c.n(A),R=function(e){var t=e.error;return Object(a.jsxs)("div",{className:I.a.error,children:[Object(a.jsx)("img",{src:"https://raw.githubusercontent.com/kostya-caxnyk/ReStore/main/src/Components/ErrorIndicator/error.jpg",alt:"error"}),Object(a.jsx)("span",{children:"Something went wrong"}),t&&Object(a.jsx)("span",{children:t.status_message?t.status_message:t.errors?t.errors.map((function(e){return e})):""})]})},z=c(42),U=c(43),V=c(46),q=c(45),G=function(e){Object(V.a)(c,e);var t=Object(q.a)(c);function c(){var e;Object(z.a)(this,c);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(U.a)(c,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(a.jsx)(R,{}):this.props.children}}]),c}(r.Component),J=function(){return Object(a.jsxs)(D.a,{speed:2,width:1e3,height:510,viewBox:"0 0 1000 510",backgroundColor:"#cfcfcf",foregroundColor:"#908e8e",children:[Object(a.jsx)("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"300",height:"450"}),Object(a.jsx)("rect",{x:"325",y:"72",rx:"0",ry:"0",width:"630",height:"27"}),Object(a.jsx)("rect",{x:"325",y:"117",rx:"0",ry:"0",width:"600",height:"17"}),Object(a.jsx)("circle",{cx:"352",cy:"201",r:"27"}),Object(a.jsx)("rect",{x:"384",y:"180",rx:"0",ry:"0",width:"72",height:"15"}),Object(a.jsx)("rect",{x:"384",y:"203",rx:"0",ry:"0",width:"73",height:"13"}),Object(a.jsx)("rect",{x:"324",y:"253",rx:"0",ry:"0",width:"550",height:"24"}),Object(a.jsx)("rect",{x:"329",y:"297",rx:"0",ry:"0",width:"123",height:"28"}),Object(a.jsx)("rect",{x:"325",y:"338",rx:"0",ry:"0",width:"700",height:"115"})]})},Q=c(28),Y=c(14),H=c.n(Y),X=c(44),Z=c.n(X),K="https://api.themoviedb.org/3",W="?api_key=b79c674110200fabb617b62045c9c32b",$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=Object(r.useState)(null),a=Object(b.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(!1),o=Object(b.a)(i,2),l=o[0],j=o[1],d=Object(r.useState)(null),h=Object(b.a)(d,2),u=h[0],m=h[1],x=Object(r.useState)({}),_=Object(b.a)(x,2),O=_[0],p=_[1],v=Object(r.useCallback)((function(e){p(e||{}),j(!0)}),[]);return Object(r.useEffect)((function(){var c=!1;return l&&Z()(K+e+W+t,O).then((function(e){c||(s(e.data),j(!1))})).catch((function(e){c||(m(e.response.data),j(!1))})),function(){c=!0}}),[l,e,t,O]),[{response:n,isLoading:l,error:u},v]};function ee(e){var t=e.split("/");return t.shift(),"Movie"===(t=t.map((function(e){return e.split("_").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")})))[0]?t.reverse().join(" ")+"s":"Tv"===t[0]?(t.shift(),t.join(" ")+" TV Shows"):"Films Page"}var te=function(e){var t=e.match,c=t.url.replaceAll("-","_");void 0===t.params.slug&&(c+="/popular");var n=Object(r.useState)([{items:null}]),s=Object(b.a)(n,2),i=s[0],o=s[1],l=$(c,"&page=".concat(i.length)),j=Object(b.a)(l,2),d=j[0],h=d.response,u=d.error,m=j[1];Object(r.useEffect)((function(){return m(),function(){return o([{items:null}])}}),[c,m]),Object(r.useEffect)((function(){h&&o((function(e){return[].concat(Object(Q.a)(e.slice(0,e.length-1)),[{items:h.results}])}))}),[h]),Object(r.useEffect)((function(){i.length>1&&m()}),[i.length,m]);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:H.a.title,children:ee(c)}),Object(a.jsxs)("div",{className:H.a.content,children:[Object(a.jsx)("div",{className:H.a.sideBar,children:"side bar"}),Object(a.jsxs)("div",{className:H.a.pages,children:[u&&Object(a.jsx)(R,{error:u}),i.map((function(e,t){return Object(a.jsx)(L,{items:e.items},t)})),h&&i.length<h.total_pages&&Object(a.jsx)("button",{className:H.a.btnMore,onClick:function(){o((function(e){return[].concat(Object(Q.a)(e),[{items:null}])}))},children:"Load More"})]})]})]})},ce=c(27),ae=c.n(ce),re=c(4),ne=c.n(re),se=function(e){if(!e)return"0m";var t=Math.floor(e/60),c=e%60;return t?"".concat(t,"h ").concat(c,"m"):"".concat(c,"m")},ie=n.a.memo((function(e){var t=e.backdrop_path,c=e.genres,r=(e.id,e.title),n=e.tagline,s=e.vote_average,i=e.runtime,o=(e.status,e.revenue,e.release_date),l=e.poster_path,j=(e.budget,e.original_language,e.overview),d=e.name,b=e.first_air_date,h=e.episode_run_time,u=o?o.split("-")[0]:b.split("-")[0],m=se(h?h[0]:i),x=c.map((function(e,t){var a=e.name;return t===c.length-1?a:a+", "}));return Object(a.jsx)("section",{style:{backgroundImage:" url(https://image.tmdb.org/t/p/w1920_and_h800_multi_faces/".concat(t,")")},className:ne.a.section,children:Object(a.jsx)("div",{className:ne.a.gradient,children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:ne.a.inner,children:[Object(a.jsx)("img",{alt:"",src:"https://image.tmdb.org/t/p/w500/".concat(l),className:ne.a.poster}),Object(a.jsxs)("div",{className:ne.a.content,children:[Object(a.jsxs)("h1",{className:ne.a.title,children:[r||d,Object(a.jsxs)("span",{className:ne.a.year,children:[" (",u,")"]})]}),Object(a.jsxs)("div",{className:ne.a.info,children:[o||b," ",!!c.length&&Object(a.jsx)("span",{className:ne.a.dot,children:x}),Object(a.jsx)("span",{className:ne.a.dot,children:m})]}),Object(a.jsxs)("div",{className:ne.a.score,children:[Object(a.jsx)(P,{score:s,size:"big"}),"User Score"]}),Object(a.jsx)("div",{className:ne.a.description,children:n}),j&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:ne.a.overview,children:"Overview"}),Object(a.jsx)("p",{className:ne.a.overviewText,children:j})]})]})]})})})})})),oe=function(e){var t=e.match,c=t.params.id,n="/".concat(t.url.split("/")[1],"/").concat(c),s=$(n),i=Object(b.a)(s,2),o=i[0],l=o.response,j=o.error,d=i[1];return Object(r.useEffect)((function(){d()}),[d]),Object(a.jsxs)("div",{className:ae.a.page,children:[Object(a.jsx)("div",{className:ae.a.nav,children:"links"}),j&&Object(a.jsx)(R,{error:j}),l?Object(a.jsx)(ie,Object(f.a)({},l)):Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(J,{})})]})},le=function(){return Object(a.jsx)(G,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(v,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",render:function(){return Object(a.jsx)("h1",{children:"HOME PAGE"})},exact:!0}),Object(a.jsx)(l.a,{path:"/movie",component:te,exact:!0}),Object(a.jsx)(l.a,{path:"/movie/:slug",component:te,exact:!0}),Object(a.jsx)(l.a,{path:"/movie/details/:id",component:oe}),Object(a.jsx)(l.a,{path:"/tv",component:te,exact:!0}),Object(a.jsx)(l.a,{path:"/tv/:slug",component:te,exact:!0}),Object(a.jsx)(l.a,{path:"/tv/details/:id",component:oe}),Object(a.jsx)(l.a,{render:function(){return Object(a.jsx)("h1",{children:"PAGE NOT FOUND"})}})]})]})})};c(78);i.a.render(Object(a.jsx)(le,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.8ece1b37.chunk.js.map